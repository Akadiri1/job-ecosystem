/* Octopus V Theme - Light & Dark Mode Support */

/* =========================================
   LIGHT MODE (Default) - Clean Blue/White Theme
   ========================================= */

:root, html, [data-theme-mode="light"] {
    /* Backgrounds: Pure White everywhere */
    --octopus-bg-light: #ffffff;
    --octopus-card-bg-light: #ffffff;
    
    --octopus-primary: #667eea;
    --octopus-primary-hover: #5a6fd6;
    --octopus-text-main-light: #333333;
    --octopus-text-muted-light: #6c757d;
    
    /* Borders: Slightly darker to define structure since bg is white */
    --octopus-border-light: #e5e7eb; /* Gray-200 */
    
    --octopus-success: #00b074;
    --octopus-danger: #dc3545;
    
    /* Core overrides for light mode */
    --primary-color: var(--octopus-primary);
    --primary-rgb: 102, 126, 234;
    --custom-white: var(--octopus-card-bg-light);
    --body-bg: var(--octopus-bg-light);
    
    /* GENERIC ALIASES (Essential for auto-switching) */
    --octopus-bg: var(--octopus-bg-light);
    --octopus-card-bg: var(--octopus-card-bg-light);
    --octopus-text-main: var(--octopus-text-main-light);
    --octopus-text-muted: var(--octopus-text-muted-light);
    --octopus-border: var(--octopus-border-light);
}

/* Explicit Light Mode Selectors to beat specificity */
[data-theme-mode="light"] body,
[data-theme-mode="light"] .main-content,
[data-theme-mode="light"] .app-content,
[data-theme-mode="light"] .page {
    background-color: var(--octopus-bg-light) !important;
    color: var(--octopus-text-main-light) !important;
}

/* Light mode sidebar & header */
[data-theme-mode="light"] .app-sidebar,
[data-theme-mode="light"] .main-sidebar,
[data-theme-mode="light"] .main-menu {
    background-color: var(--octopus-card-bg-light) !important;
    border-right: 1px solid var(--octopus-border-light) !important;
}

[data-theme-mode="light"] .app-header,
[data-theme-mode="light"] .main-sidebar-header {
    background-color: var(--octopus-card-bg-light) !important;
    border-bottom: 1px solid var(--octopus-border-light) !important;
}

/* Light mode cards */
[data-theme-mode="light"] .card, 
[data-theme-mode="light"] .custom-card, 
[data-theme-mode="light"] .stat-card-modern,
[data-theme-mode="light"] .dropdown-menu {
    background-color: var(--octopus-card-bg-light) !important;
    border: 1px solid var(--octopus-border-light) !important;
    color: var(--octopus-text-main-light) !important;
}

/* Light mode form inputs - VISIBLE BORDERS */
.form-control,
.form-select,
input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="date"],
input[type="datetime-local"],
input[type="tel"],
input[type="url"],
textarea,
select {
    border: 1px solid #d1d5db !important; /* Gray-300 */
    border-radius: 8px !important;
    padding: 0.625rem 0.875rem !important;
    background-color: #ffffff !important;
    transition: border-color 0.2s ease, box-shadow 0.2s ease !important;
}

.form-control:focus,
.form-select:focus,
input:focus,
textarea:focus,
select:focus {
    border-color: var(--octopus-primary) !important;
    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.15) !important;
    outline: none !important;
}

[data-theme-mode="light"] .form-control,
[data-theme-mode="light"] .form-select,
[data-theme-mode="light"] input[type="text"],
[data-theme-mode="light"] textarea {
    border: 1px solid #d1d5db !important;
    background-color: #ffffff !important;
    color: #333333 !important;
}

/* Fallback for body if no attribute (Default) */
body {
    background-color: var(--octopus-bg-light);
    color: var(--octopus-text-main-light);
    font-family: 'Inter', system-ui, -apple-system, sans-serif;
}

/* =========================================
   DARK MODE - Modern Dark Blue/Slate Theme
   ========================================= */
/* =========================================
   DARK MODE - Modern Deep Charcoal/Zinc Theme
   ========================================= */
[data-theme-mode="dark"] {
    /* Backgrounds: Neutral Zinc/Charcoal (Premium Dark) */
    --octopus-bg-dark: #18181b;      /* Zinc 900 */
    --octopus-card-bg: #27272a;      /* Zinc 800 */
    
    /* Primary Color: Keep the Blue for modern feel, or switch to Primary if requested */
    --octopus-primary: #3b82f6;      /* Blue 500 */
    --octopus-primary-hover: #2563eb; /* Blue 600 */
    
    /* Text */
    --octopus-text-main: #f4f4f5;    /* Zinc 100 */
    --octopus-text-muted: #a1a1aa;   /* Zinc 400 */
    
    /* Borders */
    --octopus-border: rgba(255, 255, 255, 0.08);
    
    /* Core Overrides */
    --primary-color: var(--octopus-primary);
    --primary-rgb: 59, 130, 246;
    --custom-white: var(--octopus-card-bg);
    --body-bg: var(--octopus-bg-dark);
}

[data-theme-mode="dark"] body {
    background-color: var(--octopus-bg-dark) !important;
    color: var(--octopus-text-main) !important;
}

/* Dark mode sidebar */
[data-theme-mode="dark"] .app-sidebar {
    background-color: var(--octopus-card-bg) !important;
    border-right: 1px solid var(--octopus-border) !important;
}

[data-theme-mode="dark"] .app-sidebar .main-sidebar-header {
    background-color: var(--octopus-card-bg) !important;
    border-bottom: 1px solid var(--octopus-border) !important;
}

/* Dark mode menu items */
[data-theme-mode="dark"] .side-menu__item {
    color: var(--octopus-text-muted) !important;
}

[data-theme-mode="dark"] .side-menu__item:hover {
    color: var(--octopus-text-main) !important;
    background: rgba(255, 255, 255, 0.05) !important;
}

[data-theme-mode="dark"] .side-menu__item.active {
    background: rgba(59, 130, 246, 0.15) !important;
    color: var(--octopus-primary) !important;
    border-left: 3px solid var(--octopus-primary);
}

/* Dark mode header */
[data-theme-mode="dark"] .app-header {
    background-color: var(--octopus-card-bg) !important;
    border-bottom: 1px solid var(--octopus-border) !important; /* Fixed syntax error */
}

[data-theme-mode="dark"] .app-header .header-content-right .header-element .header-link {
    color: var(--octopus-text-muted) !important;
}

[data-theme-mode="dark"] .app-header .header-content-right .header-element .header-link:hover {
    background: rgba(255, 255, 255, 0.05) !important;
    color: var(--octopus-text-main) !important;
}

/* Dark mode cards */
[data-theme-mode="dark"] .card, 
[data-theme-mode="dark"] .custom-card, 
[data-theme-mode="dark"] .stat-card-modern, 
[data-theme-mode="dark"] .welcome-header {
    background-color: var(--octopus-card-bg) !important;
    border: 1px solid var(--octopus-border) !important;
    box-shadow: none !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .welcome-header {
    background-image: none !important;
}

[data-theme-mode="dark"] .card-header, 
[data-theme-mode="dark"] .card-footer {
    background-color: transparent !important;
    border-color: var(--octopus-border) !important;
}

[data-theme-mode="dark"] .card-title {
    color: var(--octopus-text-main) !important;
}

/* Dark mode typography */
[data-theme-mode="dark"] h1, 
[data-theme-mode="dark"] h2, 
[data-theme-mode="dark"] h3, 
[data-theme-mode="dark"] h4, 
[data-theme-mode="dark"] h5, 
[data-theme-mode="dark"] h6 {
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .text-muted {
    color: var(--octopus-text-muted) !important;
}

/* Dark mode forms - VISIBLE BORDERS */
[data-theme-mode="dark"] .form-control, 
[data-theme-mode="dark"] .form-select,
[data-theme-mode="dark"] input[type="text"],
[data-theme-mode="dark"] input[type="email"],
[data-theme-mode="dark"] input[type="password"],
[data-theme-mode="dark"] input[type="number"],
[data-theme-mode="dark"] input[type="date"],
[data-theme-mode="dark"] textarea,
[data-theme-mode="dark"] select {
    background-color: rgba(255, 255, 255, 0.05) !important;
    border: 1px solid rgba(255, 255, 255, 0.2) !important; /* More visible border */
    border-radius: 8px !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .form-control::placeholder {
    color: rgba(255, 255, 255, 0.4) !important;
}

[data-theme-mode="dark"] .form-control:focus,
[data-theme-mode="dark"] .form-select:focus,
[data-theme-mode="dark"] input:focus,
[data-theme-mode="dark"] textarea:focus {
    border-color: var(--octopus-primary) !important;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.25) !important;
}

/* Dark mode buttons */
[data-theme-mode="dark"] .btn-primary, 
[data-theme-mode="dark"] .btn-primary-gradient {
    background: var(--octopus-primary) !important;
    background-image: none !important;
    border-color: var(--octopus-primary) !important;
}

[data-theme-mode="dark"] .btn-primary:hover {
    background: var(--octopus-primary-hover) !important;
    border-color: var(--octopus-primary-hover) !important;
}

[data-theme-mode="dark"] .btn-light {
    background: rgba(255,255,255,0.1) !important;
    border: none !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .btn-light:hover {
    background: rgba(255,255,255,0.2) !important;
}

/* Dark mode tables */
[data-theme-mode="dark"] .table, 
[data-theme-mode="dark"] .modern-table {
    color: var(--octopus-text-muted) !important;
    --bs-table-bg: transparent !important;
}

[data-theme-mode="dark"] .table thead th {
    background-color: rgba(0,0,0,0.2) !important;
    color: var(--octopus-text-main) !important;
    border-bottom: 1px solid var(--octopus-border) !important;
}

[data-theme-mode="dark"] .table td, 
[data-theme-mode="dark"] .table th {
    border-color: var(--octopus-border) !important;
}

[data-theme-mode="dark"] .table-hover tbody tr:hover {
    background-color: rgba(255,255,255,0.03) !important;
}

/* Dark mode loader */
[data-theme-mode="dark"] #loader {
    background-color: var(--octopus-bg-dark) !important;
}

[data-theme-mode="dark"] .spinner {
    border-left-color: var(--octopus-primary) !important;
}

/* Dark mode dropdowns */
[data-theme-mode="dark"] .dropdown-menu {
    background-color: var(--octopus-card-bg) !important;
    border: 1px solid var(--octopus-border) !important;
}

[data-theme-mode="dark"] .dropdown-item {
    color: var(--octopus-text-muted) !important;
}

[data-theme-mode="dark"] .dropdown-item:hover {
    background-color: rgba(255,255,255,0.05) !important;
    color: var(--octopus-text-main) !important;
}

/* Dark mode table row hover - CRITICAL FIX */
[data-theme-mode="dark"] table tr:hover,
[data-theme-mode="dark"] .table tr:hover,
[data-theme-mode="dark"] tbody tr:hover,
[data-theme-mode="dark"] .table-hover > tbody > tr:hover,
[data-theme-mode="dark"] .table-hover tbody tr:hover > * {
    background-color: rgba(59, 130, 246, 0.1) !important;
    --bs-table-hover-bg: rgba(59, 130, 246, 0.1) !important;
    --bs-table-accent-bg: rgba(59, 130, 246, 0.1) !important;
}

/* Dark mode select/dropdown elements */
[data-theme-mode="dark"] select,
[data-theme-mode="dark"] .form-select,
[data-theme-mode="dark"] .custom-select,
[data-theme-mode="dark"] select option {
    background-color: var(--octopus-card-bg) !important;
    color: var(--octopus-text-main) !important;
    border-color: var(--octopus-border) !important;
}

/* Dark mode multiselect/choices.js dropdowns */
[data-theme-mode="dark"] .choices,
[data-theme-mode="dark"] .choices__inner,
[data-theme-mode="dark"] .choices__list--dropdown {
    background-color: var(--octopus-card-bg) !important;
    border-color: var(--octopus-border) !important;
}

[data-theme-mode="dark"] .choices__list--dropdown .choices__item {
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .choices__list--dropdown .choices__item--selectable.is-highlighted {
    background-color: rgba(59, 130, 246, 0.2) !important;
}

/* Dark mode modals */
[data-theme-mode="dark"] .modal-content {
    background-color: var(--octopus-card-bg) !important;
    border-color: var(--octopus-border) !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .modal-header,
[data-theme-mode="dark"] .modal-footer {
    border-color: var(--octopus-border) !important;
}

/* Dark mode popovers and tooltips */
[data-theme-mode="dark"] .popover,
[data-theme-mode="dark"] .tooltip-inner {
    background-color: var(--octopus-card-bg) !important;
    color: var(--octopus-text-main) !important;
}

/* Dark mode badges */
[data-theme-mode="dark"] .badge-light,
[data-theme-mode="dark"] .bg-light {
    background-color: rgba(255, 255, 255, 0.1) !important;
    color: var(--octopus-text-main) !important;
}

/* Dark mode list groups */
[data-theme-mode="dark"] .list-group-item {
    background-color: var(--octopus-card-bg) !important;
    border-color: var(--octopus-border) !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .list-group-item:hover {
    background-color: rgba(255, 255, 255, 0.05) !important;
}

/* Dark mode pagination */
[data-theme-mode="dark"] .page-link {
    background-color: var(--octopus-card-bg) !important;
    border-color: var(--octopus-border) !important;
    color: var(--octopus-text-muted) !important;
}

[data-theme-mode="dark"] .page-link:hover {
    background-color: rgba(255, 255, 255, 0.1) !important;
    color: var(--octopus-text-main) !important;
}

[data-theme-mode="dark"] .page-item.active .page-link {
    background-color: var(--octopus-primary) !important;
    border-color: var(--octopus-primary) !important;
}

/* =========================================
   SHARED STYLES (Both modes)
   ========================================= */
.btn-primary, .btn-primary-gradient {
    background: var(--octopus-primary);
    border-color: var(--octopus-primary);
    color: #fff;
}

.btn-primary:hover {
    background: var(--octopus-primary-hover);
    border-color: var(--octopus-primary-hover);
}

/* Progress bars */
.progress-bar {
    background-color: var(--octopus-primary);
}

/* Role badges */
.role-badge.admin { color: var(--octopus-danger); }
.role-badge.employer { color: var(--octopus-primary); }
.role-badge.employee { color: var(--octopus-success); }
